---
output: pdf_document
---

```{r}

source('RECURSOS-INVESTIGACION/R/get-dat-basic-normalizada.R')
source('RECURSOS-INVESTIGACION/R/pef-r2-ids-eeff-forecast.R')
source('RECURSOS-INVESTIGACION/R/pef-list-summary-resumen.R')
source('RECURSOS-INVESTIGACION/R/pef-get-dats-for-forescat.R')
source('RECURSOS-INVESTIGACION/R/pef-get-ids-for-models.R')

if (!('listResultPEF' %in% ls())) {
    datTotalSistema <- getDatEEFFNormalizada(by = 'TOTAL_SISTEMA')
    
    ids <- getVariablesForModelsForecast()
    
    listResultPEF <- getListFittedAndSimulateModels(datTotalSistema,ids)
    listResumeModels <- getListResumeSummaryModels(listResultPEF)
}


listDatsForTestCamels <- getDatsForTestCamels(listResultPEF,datTotalSistema,12,TRUE)

```


```{r}
source("RECURSOS-INVESTIGACION/R/pef-get-camel-test.R")
require(dplyr)
require(kableExtra)

originalCamelTest <- getCamelTestForecast(listDatsForTestCamels$datCuentas)
nnCamelTest <- getCamelTestForecast(listDatsForTestCamels$nnDataForecastCuentas)
mcoCamelTest <- getCamelTestForecast(listDatsForTestCamels$mcoDataForecastCuentas)
arimaCamelTest <- getCamelTestForecast(listDatsForTestCamels$arimaDataForecastCuentas)

camelTestModels <- bind_rows(originalCamelTest,
                             nnCamelTest,
                             mcoCamelTest,
                             arimaCamelTest)
```


## Aplicaciones

```{r}
kable(camelTestModels) %>% 
    pack_rows(index = c('DATOS ORIGINALES',
                        'REDES NEURONALES',
                        'MCO',
                        'ARIMA'))
```



