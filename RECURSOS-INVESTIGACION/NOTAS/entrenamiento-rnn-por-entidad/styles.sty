%----------------------------
% Caracteristicas generales
\usepackage{geometry}
\geometry{a4paper,total={216mm,279mm},left=35mm, right=25mm, top=25mm, bottom=25mm}

\usepackage{setspace}
\setstretch{2}

% ###################################################
\usepackage{pdfpages} % Insertar Pdfs
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[spanish.lcroman]{babel} % Modificar titulos

\usepackage[explicit]{titlesec} % Modificar titulos
\usepackage{titletoc} % Modificar tabla de contenido

\usepackage{multirow} % Para tablas
\usepackage{rotating} % Para girar tablas

\usepackage{lscape}
\usepackage{longtable}

\usepackage{caption}

% Paginacion arriba-derecha
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\fancyhead[R]{\thepage}

% profundidad toc
\setcounter{tocdepth}{4}

% Con spanish babel
\addto\captionsspanish{
\renewcommand{\contentsname}{INDICE CAPITULAR}
\renewcommand{\listfigurename}{LISTA DE GRAFICOS}
\renewcommand{\listtablename}{LISTA DE CUADROS}
\renewcommand{\figurename}{Gr√°fico}
\renewcommand{\tablename}{Cuadro}
}
%----------------------------

% Con titlesec - title toc

% Secciones antes de los capitulos
\titleclass{\frontms}{page}[\section]
\newcounter{frontms}
\renewcommand{\thefrontms}{\alph{frontms}}
\newcommand{\frontmsname}{FMs}
\titlespacing{\frontms}{0pt}{0pt}{0pt}

\newcommand*\Sectionname{CAPITULO}

\titleformat{\frontms}[display]{\centering\large\bfseries}{}{}{\huge}
\titleformat{\frontmss}[display]{\centering\large\bfseries}{}{}{\huge}
\titleformat{\section}{\centering\bfseries}{\Sectionname\ \thesection.\quad}{0pt}{#1}
\titleformat{\subsection}[hang]{\bfseries}{\thesubsection. \quad}{0pt}{#1}

\titlecontents*{section}
    [0pt]
    {\addvspace{2pc}\centering\bfseries}
    {\Sectionname\ \thecontentslabel.\quad}
    {}
    {}

\titlecontents{subsection}
    [0pt]
    {\bfseries\hspace{1.5em}}
    {\contentslabel{2em}\MakeUppercase}
    {\hspace*{-2em}}
    {\titlerule*[8pt]{.}\contentspage}
    
\titlecontents{subsubsection}
    [0pt]
    {\hspace{1.5em}}
    {\contentslabel{2em}\hspace{1em}}
    {}
    {\titlerule*[8pt]{.}\contentspage}
    
\titlecontents{paragraph}
    [0pt]
    {}
    {}
    {}
    {}


\titlecontents{frontms}
    [0pt]
    {\addvspace{-2pt}\bfseries}
    {\large}
    {}
    {\titlerule*[8pt]{.}\contentspage}
    
%----------------------------
% Editar size de los captions

\captionsetup[figure]{font=small,labelfont=bf}
\captionsetup[table]{font=small,labelfont=bf}

%----------------------------
% Definir la profundidad de las clases
\usepackage{hyperref}
\makeatletter
\def\toclevel@section{1}
\def\toclevel@frontms{1}
\def\toclevel@subsection{2}
\def\toclevel@subsubsection{3}
\def\toclevel@paragraph{4}
\makeatother