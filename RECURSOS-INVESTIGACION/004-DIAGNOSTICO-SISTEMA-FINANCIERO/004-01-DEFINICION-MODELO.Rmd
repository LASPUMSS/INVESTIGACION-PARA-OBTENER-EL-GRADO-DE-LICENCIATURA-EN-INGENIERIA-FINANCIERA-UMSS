---
output: html_document
---

```{r}
# PAQUETES NECESARIOS
require(glue)

# FUNCIONES NECESARIAS
source("RECURSOS-INVESTIGACION/R/get-dat-basic.R")
source("RECURSOS-INVESTIGACION/R/get-dat-group.R")
source("RECURSOS-INVESTIGACION/R/def-mod-entidades.R")
source("RECURSOS-INVESTIGACION/R/render-table-basic.R")
source("RECURSOS-INVESTIGACION/R/handles.R")

# VARIABLES GLOBALES DEL DOCUMENTO
dat <- getDatEEFF()
entidadesCompModelo <- getEntidadesCompModelo(dat)
datGroupBySector <- getDatEEFFByGroup(dat,by = 'TIPO_DE_ENTIDAD' )
```

## Precisiones del diagnostico financiero presentado

En la presente sección se presentaran las características a la cuales están sujetas el diagnostico presentado en este capítulo.

### Entidades financieras comprendidas por el diagnostico

El numero de observaciones de la datos manejados por esta investigación alcanzan a `r nrow(dat)`, donde cada observación corresponde a un balance general y un estado de resultados en un punto del tiempo entre las fechas (`r min(dat$FECHA)` - `r max(dat$FECHA)`), dichos estados financieros se clasifican o agrupara por sectores financieros los cuales son:

- Bancos múltiples
- Bancos PYME.
- Bancos de desarrollo productivo.
- Instituciones financieras de desarrollo.
- Entidades financieras de vivienda.
- Cooperativas.

Una vez agrupados los datos por sectores los datos dan un total de `r nrow(datGroupBySector)` observaciones.

#### Bancos múltiples

```{r}
idTipoEntidad <- 'BANCOS_MULTIPLES'
entidadesModelo <- entidadesCompModelo[entidadesCompModelo$TIPO_DE_ENTIDAD==idTipoEntidad,
                                       c('SIGLA','ENTIDAD','DE','HASTA')]
```

El sector de `r tolower(gsub('_',' ',idTipoEntidad))` representan `r sum(datGroupBySector$TIPO_DE_ENTIDAD==idTipoEntidad)` observaciones del total de los datos agrupados, dicho sector esta comprendido por `r nrow(entidadesModelo)` entidades, que se presentan a continuación:


```{r}
captionTable <- glue('{handle$toUpperFirstText(gsub("_"," ",idTipoEntidad))} contenidas en los datos')
renderTableBasic(entidadesModelo,captionTable = captionTable)
```


#### Bancos PYME

```{r}
idTipoEntidad <- 'BANCOS_PYME'
entidadesModelo <- entidadesCompModelo[entidadesCompModelo$TIPO_DE_ENTIDAD==idTipoEntidad,
                                       c('SIGLA','ENTIDAD','DE','HASTA')]
```

El sector de `r gsub('pyme','PYME',tolower(gsub('_',' ',idTipoEntidad)))` representan `r sum(datGroupBySector$TIPO_DE_ENTIDAD==idTipoEntidad)` observaciones del total de los datos agrupados, dicho sector esta comprendido por `r nrow(entidadesModelo)` entidades, que se presentan a continuación:


```{r}
captionTable <- glue('{gsub("pyme","PYME",handle$toUpperFirstText(gsub("_"," ",idTipoEntidad)))} contenidos en los datos')
renderTableBasic(entidadesModelo,captionTable = captionTable)
```


#### Bancos de desarrollo productivo

```{r}
idTipoEntidad <- 'BANCOS_DE_DESARROLLO_PRODUCTIVO'
entidadesModelo <- entidadesCompModelo[entidadesCompModelo$TIPO_DE_ENTIDAD==idTipoEntidad,
                                       c('SIGLA','ENTIDAD','DE','HASTA')]
```

El sector de `r tolower(gsub('_',' ',idTipoEntidad))` representan `r sum(datGroupBySector$TIPO_DE_ENTIDAD==idTipoEntidad)` observaciones del total de los datos agrupados, dicho sector esta comprendido por `r nrow(entidadesModelo)` entidades, que se presentan a continuación:


```{r}
captionTable <- glue('{handle$toUpperFirstText(gsub("_"," ",idTipoEntidad))} contenidas en los datos')
renderTableBasic(entidadesModelo,captionTable = captionTable)
```


#### Instituciones financieras de desarrollo

```{r}
idTipoEntidad <- 'INSTITUCIONES_FINANCIERAS_DE_DESARROLLO'
entidadesModelo <- entidadesCompModelo[entidadesCompModelo$TIPO_DE_ENTIDAD==idTipoEntidad,
                                       c('SIGLA','ENTIDAD','DE','HASTA')]
```

El sector de `r tolower(gsub('_',' ',idTipoEntidad))` representan `r sum(datGroupBySector$TIPO_DE_ENTIDAD==idTipoEntidad)` observaciones del total de los datos agrupados, dicho sector esta comprendido por `r nrow(entidadesModelo)` entidades, que se presentan a continuación:


```{r}
captionTable <- glue('{handle$toUpperFirstText(gsub("_"," ",idTipoEntidad))} contenidas en los datos')
renderTableBasic(entidadesModelo,captionTable = captionTable)
```

#### Entidades financieras de vivienda

```{r}
idTipoEntidad <- 'ENTIDADES_FINANCIERAS_DE_VIVIENDA'
entidadesModelo <- entidadesCompModelo[entidadesCompModelo$TIPO_DE_ENTIDAD==idTipoEntidad,
                                       c('SIGLA','ENTIDAD','DE','HASTA')]
```

El sector de `r tolower(gsub('_',' ',idTipoEntidad))` representan `r sum(datGroupBySector$TIPO_DE_ENTIDAD==idTipoEntidad)` observaciones del total de los datos agrupados, dicho sector esta comprendido por `r nrow(entidadesModelo)` entidades, que se presentan a continuación:


```{r}
captionTable <- glue('{handle$toUpperFirstText(gsub("_"," ",idTipoEntidad))} contenidas en los datos')
renderTableBasic(entidadesModelo,captionTable = captionTable)
```

#### Cooperativas

```{r}
idTipoEntidad <- 'COOPERATIVAS_DE_AHORRO_Y_CREDITO'
entidadesModelo <- entidadesCompModelo[entidadesCompModelo$TIPO_DE_ENTIDAD==idTipoEntidad,
                                       c('SIGLA','ENTIDAD','DE','HASTA')]
```

El sector de `r tolower(gsub('_',' ',idTipoEntidad))` representan `r sum(datGroupBySector$TIPO_DE_ENTIDAD==idTipoEntidad)` observaciones del total de los datos agrupados, dicho sector esta comprendido por `r nrow(entidadesModelo)` entidades, que se presentan a continuación:


```{r}
captionTable <- glue('{handle$toUpperFirstText(gsub("_"," ",idTipoEntidad))} contenidas en los datos')
renderTableBasic(entidadesModelo,captionTable = captionTable)
```

### Variables comprendidas en el diganostico

Las variables comprendidas en el modelo del diagnostico están sujetas al manual de cuentas para entidades financieras.

#### Activo

Según [@MANUAL_CUENTAS_ASFI] los activos (designado por el código 100.00 en el manual de cuentas) son aquellas que agrupan las cuentas representativas de bienes y derechos de la entidad, la cuales comprenden:

- Disponibilidades
- Inversiones temporarias
- Cartera
- Otras cuentas por cobrar
- Bienes realizables
- Inversiones permanentes
- Bienes de uso 
- Otros activos. 


#### Disponibles

Según [@MANUAL_CUENTAS_ASFI] los activos disponibles (designado por el código 110.00 en el manual de cuentas) representa el efectivo que mantiene la entidad en caja, los saldos a la vista en el Banco Central de Bolivia, en oficina matriz y sucursales del exterior, en bancos y corresponsales del país y del exterior; así como, la tenencia de metales preciosos. También representa la existencia de cheques, otros documentos mercantiles de cobro inmediato y órdenes electrónicas de pago pendientes de liquidación. 

#### Realizables

Según [@MANUAL_CUENTAS_ASFI] los activos realizables (designado por el código 150.00 en el manual de cuentas) representa los bienes tangibles de propiedad de la entidad con destino de venta como ser: 

- Los bienes adquiridos o construidos para la venta 
- Los bienes recibidos en recuperación de créditos o de operaciones de arrendamiento financiero
- Los bienes fuera de uso y otros bienes realizables

#### Inversiones temporarias

Según [@MANUAL_CUENTAS_ASFI] las inversiones temporarias (designado por el código 120.00 en el manual de cuentas) registran:

- Las inversiones en depósitos en otras “entidades de intermediación financiera” 
- Los depósitos en el Banco Central de Bolivia y los valores representativos de deuda adquiridos por la entidad
- Las inversiones que han sido realizadas, conforme a su política de inversiones, con la intención de obtener una adecuada rentabilidad de sus excedentes temporales de liquidez y que puedan ser convertidas en disponibilidades en un plazo no mayor a treinta (30) días.

#### Pasivos

Según [@MANUAL_CUENTAS_ASFI] los pasivos (designado por el código 200.00 en el manual de cuentas) se agrupan las cuentas representativas de las obligaciones directas de la entidad la que comprenden:

- Las obligaciones con el público, 
- Las obligaciones con instituciones fiscales,
- Las obligaciones con bancos y entidades de financiamiento, incluyendo las obligaciones
con el Banco Central de Bolivia y otros; 
- Los títulos valores en circulación emitidos por la entidad, 
- Las obligaciones subordinadas 
- Las obligaciones con empresas públicas 
- Las obligaciones diversas a cargo de la entidad 
- Las previsiones que no representan correcciones de valores del activo. 


#### Patrimonio

Según [@MANUAL_CUENTAS_ASFI] el patrimonio (designado por el código 300.00 en el manual de cuentas) representa la participación de los propietarios en el activo de la entidad. Su importe se determina por la diferencia entre el activo y el pasivo. 

#### Cartera en mora

- Cartera vencida (133.00)
- Cartera en ejecución (134.00)

#### Cartera Bruta

- Cartera vigente (131.00)
- Cartera vencida (133.00)
- Cartera en ejecución (134.00)

#### Cartera reprogramada o restructurada total

- Cartera reprogramada o restructurada vigente (135.00)
- Cartera reprogramada o restructurada vencida (136.00)
- Cartera reprogramada o restructurada en ejecución (137.00)

#### Previsión cartera

- Previsión para incobrabilidad de cartera (139.00)

#### Contingente

- Cuentas contingentes deudoras (600.00)
- Cuentas contingentes acreedoras (700.00)


#### Gastos administrativos

- Gastos de administración (450.00)

#### Impuestos

- Impuestos (455.00)
- Impuestos sobre las utilidades de las empresas (460.00)

#### Resultado operativo bruto

#### Resultado neto de la gestión




